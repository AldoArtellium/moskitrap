<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" type="text/css" />
        
        <title>{{ titre }}</title>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script type="text/javascript" charset="utf-8">
	    	var socket = io.connect('http://' + document.domain + ':' + location.port);
	    	socket.on('connect', function() {
	        	socket.emit('safety', {data: 'I\'m connected!'});
   		 });
   	 
   		socket.on('message', function(msg) {
        		$('#temp').html('<p>Temperature: ' + msg.temp + ' Humidity: ' + msg.h2o + '</p>');
   	 	});
   	 	
   	 	socket.on('logic', function(msg) {
       	 	$('#state').html('<p>State: ' + msg.state + '</p>');
       	 	$('#kill').html('<p>kill: ' + msg.kill + '</p>');
   	 	});
   	 	
   	 	function kaka(){
				   	 	socket.emit('kaka', {data: 'ntm'});
   	 	}
   	 
		</script>
    </head>

    <body>
        <h1>{{ titre }}</h1>
        <p id='temp'>Waiting Temperature</p>
        <button onclick='kaka()'>CAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAA</button>
        <p id='state'>Waiting state</p>
        <p id='kill'>Waiting kill</p>
    </body>
</html>

